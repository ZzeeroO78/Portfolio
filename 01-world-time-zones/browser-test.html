<!DOCTYPE html>
<html>
<head>
    <title>Debug Test - Cities Render</title>
    <style>
        body { font-family: Arial; padding: 20px; background: #f5f5f5; }
        .test-box { background: white; padding: 20px; margin: 10px 0; border-radius: 5px; border-left: 4px solid #667eea; }
        .success { border-left-color: #4caf50; }
        .error { border-left-color: #f44336; }
        code { background: #eee; padding: 2px 6px; border-radius: 3px; }
    </style>
</head>
<body>
    <h1>üîç Debug - Provera renderovanja gradova</h1>
    
    <div id="debug-output"></div>
    
    <h2>Stranica:</h2>
    <iframe id="app-frame" src="index.html" width="100%" height="600" style="border: 2px solid #667eea;"></iframe>
    
    <script>
        const debugOutput = document.getElementById('debug-output');
        
        function addDebug(title, content, isSuccess = true) {
            const box = document.createElement('div');
            box.className = `test-box ${isSuccess ? 'success' : 'error'}`;
            box.innerHTML = `<strong>${title}</strong><pre>${content}</pre>`;
            debugOutput.appendChild(box);
        }
        
        // Test 1: Check if localStorage works
        try {
            localStorage.setItem('test', 'ok');
            localStorage.removeItem('test');
            addDebug('‚úÖ localStorage', 'localStorage radi ispravno');
        } catch (e) {
            addDebug('‚ùå localStorage ERROR', e.message, false);
        }
        
        // Test 2: Check if we can access iframe content (might be blocked by CORS)
        setTimeout(() => {
            try {
                const iframe = document.getElementById('app-frame');
                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                
                // Check if citiesGrid exists
                const grid = iframeDoc.getElementById('citiesGrid');
                if (grid) {
                    addDebug('‚úÖ citiesGrid element', `Pronaƒëen! HTML: ${grid.innerHTML.substring(0, 100)}...`);
                } else {
                    addDebug('‚ùå citiesGrid NOT FOUND', 'Element sa ID "citiesGrid" ne postoji u index.html', false);
                }
                
                // Check if script loaded
                const scripts = iframeDoc.getElementsByTagName('script');
                addDebug('‚úÖ Scripts u dokumentu', `Uƒçitano ${scripts.length} script tagova`);
                
            } catch (e) {
                addDebug('‚ö†Ô∏è Iframe pristup', 'Ne mogu pristupiti iframe-u (CORS): ' + e.message, false);
            }
        }, 2000);
        
    </script>
</body>
</html>
