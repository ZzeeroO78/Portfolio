<!DOCTYPE html>
<html>
<head>
    <title>Console Test</title>
</head>
<body>
    <h1>Otvori DevTools (F12) - vidi≈° ƒáe console ispis</h1>
    
    <iframe src="index.html" width="100%" height="800" style="border: 2px solid blue;"></iframe>
    
    <script>
        console.log('=== POƒåETAK TESTA ===');
        
        setTimeout(() => {
            console.log('üîç Provjeravamo index.html...');
            
            const iframe = document.querySelector('iframe');
            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
            const iframeWindow = iframe.contentWindow;
            
            // Check functions
            console.log('Funkcije u iframe-u:');
            console.log('  - setupEventListeners:', typeof iframeWindow.setupEventListeners);
            console.log('  - addCity:', typeof iframeWindow.addCity);
            console.log('  - renderCities:', typeof iframeWindow.renderCities);
            console.log('  - cities:', iframeWindow.cities ? `[${iframeWindow.cities.length} gradova]` : 'undefined');
            
            // Check DOM elements
            console.log('\nDOMElementi:');
            const addBtn = iframeDoc.getElementById('addCityBtn');
            const settingsBtn = iframeDoc.getElementById('settingsBtn');
            const confirmBtn = iframeDoc.getElementById('confirmBtn');
            console.log('  - addCityBtn:', addBtn ? '‚úì' : '‚úó');
            console.log('  - settingsBtn:', settingsBtn ? '‚úì' : '‚úó');
            console.log('  - confirmBtn:', confirmBtn ? '‚úì' : '‚úó');
            
            // Check modal
            const modal = iframeDoc.getElementById('cityModal');
            console.log('  - cityModal:', modal ? '‚úì' : '‚úó');
            
            // Try to trigger click manually
            if (addBtn) {
                console.log('\nüß™ Testiram klik na addCityBtn...');
                addBtn.click();
                setTimeout(() => {
                    if (modal && modal.classList.contains('show')) {
                        console.log('‚úÖ Modal se otvorio!');
                    } else {
                        console.log('‚ùå Modal se NE otvorio');
                        console.log('Modal classes:', modal ? modal.className : 'N/A');
                    }
                }, 500);
            }
            
        }, 3000);
    </script>
</body>
</html>
