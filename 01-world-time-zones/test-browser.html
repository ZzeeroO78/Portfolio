<!DOCTYPE html>
<html>
<head>
    <title>World Time Zones - Browser Test</title>
    <style>
        body { font-family: Arial; padding: 20px; background: #f5f5f5; }
        .test { background: white; padding: 15px; margin: 10px 0; border-radius: 5px; border-left: 4px solid #667eea; }
        .pass { border-left-color: #28a745; color: #28a745; font-weight: bold; }
        .fail { border-left-color: #dc3545; color: #dc3545; font-weight: bold; }
        .log { background: #f8f9fa; padding: 10px; margin: 5px 0; border-radius: 3px; font-family: monospace; font-size: 12px; }
    </style>
</head>
<body>
    <h1>üåç World Time Zones - v5.3 Test</h1>
    
    <div id="tests"></div>
    
    <script>
        const results = [];
        
        function test(name, fn) {
            try {
                const result = fn();
                const status = result ? 'PASS ‚úì' : 'FAIL ‚úó';
                const className = result ? 'pass' : 'fail';
                results.push(`<div class="test ${className}">${status} - ${name}</div>`);
            } catch (e) {
                results.push(`<div class="test fail">FAIL ‚úó - ${name}: ${e.message}</div>`);
            }
        }
        
        // Load the script
        const script = document.createElement('script');
        script.src = 'script.js?v=5.3';
        script.onload = function() {
            // Test 1: defaultCities exist
            test('defaultCities array exists', () => typeof defaultCities !== 'undefined' && Array.isArray(defaultCities));
            
            // Test 2: defaultCities has 6 cities
            test('defaultCities has 6 cities', () => defaultCities.length === 6);
            
            // Test 3: London is in defaultCities
            test('London in defaultCities', () => defaultCities.some(c => c.name === 'London'));
            
            // Test 4: cityCoordinates exists
            test('cityCoordinates object exists', () => typeof cityCoordinates !== 'undefined');
            
            // Test 5: London has coordinates
            test('London has coordinates', () => cityCoordinates['london'] && cityCoordinates['london'].lat === 51.5074);
            
            // Test 6: Sarajevo has coordinates
            test('Sarajevo has coordinates', () => cityCoordinates['sarajevo'] && cityCoordinates['sarajevo'].lat === 43.8564);
            
            // Test 7: fetchRealWeather is async function
            test('fetchRealWeather is async function', () => typeof fetchRealWeather === 'function' && fetchRealWeather.constructor.name === 'AsyncFunction');
            
            // Test 8: updateWeather is async function
            test('updateWeather is async function', () => typeof updateWeather === 'function' && updateWeather.constructor.name === 'AsyncFunction');
            
            // Test 9: renderCities is function
            test('renderCities function exists', () => typeof renderCities === 'function');
            
            // Test 10: getWeatherIcon is function
            test('getWeatherIcon function exists', () => typeof getWeatherIcon === 'function');
            
            // Display results
            document.getElementById('tests').innerHTML = results.join('');
        };
        document.head.appendChild(script);
    </script>
</body>
</html>
