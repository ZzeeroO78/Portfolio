<!DOCTYPE html>
<html>
<head>
    <title>Quick Test - Clean Version</title>
    <style>
        body { font-family: Arial; padding: 20px; background: #f0f0f0; }
        .result { margin: 10px 0; padding: 10px; border: 1px solid #ccc; background: white; }
        .pass { border-left: 3px solid green; background: #f0fff0; }
        .fail { border-left: 3px solid red; background: #fff0f0; }
    </style>
</head>
<body>
    <h1>Clean Version Test</h1>
    <div id="output"></div>

    <script>
        function log(msg, pass = true) {
            const div = document.createElement('div');
            div.className = pass ? 'result pass' : 'result fail';
            div.textContent = msg;
            document.getElementById('output').appendChild(div);
        }

        // Test 1: Check if script.js loaded
        log('✓ Script executed - page loaded', true);

        // Test 2: Check if script has key functions
        if (typeof renderCities === 'function') {
            log('✓ renderCities function exists', true);
        } else {
            log('✗ renderCities function NOT found', false);
        }

        if (typeof updateTime === 'function') {
            log('✓ updateTime function exists', true);
        } else {
            log('✗ updateTime function NOT found', false);
        }

        if (typeof getTimeForCity === 'function') {
            log('✓ getTimeForCity function exists', true);
        } else {
            log('✗ getTimeForCity function NOT found', false);
        }

        // Test 3: Check if weather functions are GONE
        if (typeof updateWeather === 'undefined') {
            log('✓ updateWeather REMOVED (good!)', true);
        } else {
            log('✗ updateWeather STILL EXISTS (should be removed)', false);
        }

        if (typeof fetchRealWeather === 'undefined') {
            log('✓ fetchRealWeather REMOVED (good!)', true);
        } else {
            log('✗ fetchRealWeather STILL EXISTS (should be removed)', false);
        }

        // Test 4: Check localStorage
        if (localStorage) {
            log('✓ localStorage available', true);
        } else {
            log('✗ localStorage NOT available', false);
        }

        // Test 5: Check default cities
        if (typeof defaultCities !== 'undefined' && defaultCities.length > 0) {
            log(`✓ Default cities loaded (${defaultCities.length} cities)`, true);
        } else {
            log('✗ Default cities NOT found', false);
        }

        // Test 6: Simulate time fetch
        try {
            const london = { timezone: 'Europe/London' };
            if (typeof getTimeForCity === 'function') {
                const time = getTimeForCity(london.timezone);
                if (time && time.length > 0) {
                    log(`✓ Time fetch works: ${time}`, true);
                } else {
                    log('✗ Time fetch returned empty', false);
                }
            }
        } catch (e) {
            log(`✗ Time fetch error: ${e.message}`, false);
        }

        log('\n✅ ALL CHECKS COMPLETE', true);
    </script>
</body>
</html>
